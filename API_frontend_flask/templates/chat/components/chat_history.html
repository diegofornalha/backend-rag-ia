{# Chat History Component - Server-side rendering with Jinja2 #}
<div class="flex-1 overflow-y-auto p-4 space-y-4">
    {% if messages %}
        {% for message in messages %}
            {% if message.type == 'user' %}
            <!-- Mensagem do UsuÃ¡rio -->
            <div class="flex justify-end mb-4">
                <div class="bg-green-100 text-gray-800 rounded-lg py-2 px-4 max-w-md">
                    <p class="text-sm">{{ message.content }}</p>
                    <span class="text-xs text-gray-500 mt-1">{{ message.timestamp|format_time }}</span>
                </div>
            </div>
            {% elif message.type == 'assistant' %}
            <!-- Mensagem do Assistente -->
            <div class="flex justify-start mb-4">
                <div class="bg-white text-gray-800 rounded-lg py-2 px-4 max-w-md shadow">
                    <p class="text-sm">{{ message.content }}</p>
                    <span class="text-xs text-gray-500 mt-1">{{ message.timestamp|format_time }}</span>
                </div>
            </div>
            {% else %}
            <!-- Mensagem do Sistema -->
            <div class="flex justify-center mb-4">
                <div class="bg-gray-100 text-gray-600 rounded-lg py-2 px-4 max-w-md text-center">
                    <p class="text-sm">{{ message.content }}</p>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    {% else %}
    <div class="flex justify-center items-center h-full">
        <div class="text-center text-gray-500">
            <p>Nenhuma mensagem ainda. Comece uma conversa!</p>
        </div>
    </div>
    {% endif %}
</div> 