{
  "metadata_global": {
    "language": "pt-BR",
    "tipo": "regra",
    "fonte": "REGRAS_RENDER.md",
    "data_criacao": "2024-12-30T16:03:01.503840",
    "categorias": [
      "regras"
    ],
    "id": "ee3c97ea4fe3faa4cab2bd9cd52a5ffc"
  },
  "document": {
    "content": "1.1 Arquivos Obrigatórios na Raiz:\n- **Dockerfile** → Arquivo principal para build da aplicação\n- **requirements.txt** → Dependências Python do projeto\n- **render.yaml** → Configurações de infraestrutura (opcional)\n\n1.2 Variáveis de Ambiente:\n- Configurar na plataforma do Render\n- Não expor valores sensíveis no código\n- HOST deve ser configurado como \"0.0.0.0\"\n- PORT deve ser 10000 (padrão do Render)\n\n2.1 Detecção Automática:\n- O Render detecta automaticamente o Dockerfile na raiz\n- Não é necessário configurar comandos de build/start manualmente\n- O healthcheck é importante para o Render monitorar a aplicação\n\n2.2 Healthcheck:\n- Endpoint `/api/v1/health` é obrigatório\n- O Render verifica a cada 10 segundos\n- Timeout de 30 segundos para resposta\n- Falhas múltiplas podem causar redeploy\n\n3.1 Dashboard:\n- Configurar notificações de status\n- Habilitar alertas de falha\n- Definir thresholds de performance\n- Configurar webhooks para Slack\n\n3.2 Métricas:\n- CPU e Memória\n- Tempo de resposta\n- Taxa de erros\n- Número de requisições\n- Status do healthcheck\n\n3.3 Logs do Render:\n- Acessar via dashboard\n- Filtrar por severidade\n- Buscar por palavras-chave\n- Exportar logs para análise\n\n4.1 Configuração SSH:\n```bash\n\n~/.ssh/config:\nHost render\nHostName ssh.oregon.render.com\nUser srv-ctmtqra3esus739sknb0\nIdentityFile ~/.ssh/id_ed25519\nStrictHostKeyChecking no\nUserKnownHostsFile /dev/null\n```\n\n4.2 Comandos SSH Úteis:\n```bash\n\nLogs em tempo real:\nssh render tail -f /var/log/render/*.log\n\nStatus do serviço:\nssh render systemctl status backend-rag-ia\n\nLogs do deploy:\nssh render cat /etc/render/deploy.log\n\nVerificar recursos:\nssh render top\nssh render free -h\nssh render df -h\n\nVerificar arquivos:\nssh render ls -la /app/\nssh render ls -la /opt/venv/\n```\n\n4.3 Boas Práticas SSH:\n- Manter chaves SSH seguras\n- Usar nomes descritivos para as chaves\n- Revogar acesso de chaves não utilizadas\n- Monitorar tentativas de acesso suspeitas\n\n5. Segurança:\n- Não commitar arquivos .env\n- Usar variáveis de ambiente do Render\n- Manter secrets seguros\n- Seguir práticas de segurança do Docker\n\n6.1 Configurações Gerais:\n- Nome: coflow\n- URL: api.coflow.com.br\n- Tipo: Docker (Standard)\n- Branch: main\n- Região: Oregon\n- Porta: 10000\n- Health Check: /api/v1/health\n- Repositório: diegofornalha/backend-rag-ia\n\n6.2 Configurações Técnicas:\n- Blueprint managed\n- Internal Address: backend-rag-ia:10000\n- Protocolo: HTTP\n- Auto Deploy: Habilitado para branch main\n**IMPORTANTE**: Este é o único serviço em produção até o momento. Não criar serviços adicionais sem autorização expressa.",
    "metadata": {
      "type": "regra",
      "title": "REGRAS_RENDER",
      "autor": "sistema",
      "formato_original": "markdown",
      "tags": [
        "documentação",
        "regras"
      ],
      "versao": "1.0"
    }
  }
}