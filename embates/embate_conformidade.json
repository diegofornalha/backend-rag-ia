{
  "titulo": "Verificação de Conformidade do Projeto",
  "tipo": "tecnico",
  "status": "aberto",
  "contexto": "Verificação automática de conformidade do projeto, buscando inconsistências no uso de schemas, tabelas e configurações.\n\nEste embate serve como documentação histórica dos problemas encontrados e como guia para evitar problemas similares no futuro.",
  "argumentos": [
    {
      "autor": "verificador",
      "tipo": "analise",
      "conteudo": "Análise realizada em 70 diretórios e 224 arquivos.\nForam encontrados 142 problemas de conformidade nos seguintes aspectos: policy_incorreta, schema_publico, supabase_table, json_invalido, schema_incorreto."
    },
    {
      "autor": "verificador",
      "tipo": "detalhes",
      "conteudo": "- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\n  Linha: 226\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:                 \"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\n\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_publico\n  Trecho: table('documents\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: supabase_table\n  Trecho: supabase.table('\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: supabase_table\n  Trecho: supabase.table('\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: supabase_table\n  Trecho: supabase.table('\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: supabase_table\n  Trecho: supabase.table('\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 15\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"- Arquivo: 02_ferramentas_rag_apenas_raiz/cli/c_verificador_conformidade.py\\n  Linha: 226\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:                 \\\"- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\\\n\\\"\\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\\n  Linha: 209\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto:    CREATE TABLE error_log (\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/debugger/count_documents.py\\n  Linha: 42\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 41\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:             self.supabase_client.table('documents').insert(doc).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 71\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 82\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').update({\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 96\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').eq('id', document_id).execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 105\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         response = self.supabase_client.table('documents').select('*').execute()\\n- Arquivo: backend_rag_ia/services/vector_store.py\\n  Linha: 110\\n  Tipo: schema_publico\\n  Trecho: table('documents\\n  Contexto:         self.supabase_client.table('documents').delete().neq('id', '').execute()\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"02_embeddings_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 5\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\\n  Linha: 25\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 6\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto: DROP TABLE IF EXISTS public.\\\"01_base_conhecimento_regras_geral\\\" CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 9\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE public.\\\"01_base_conhecimento_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\\n  Linha: 30\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto: ALTER TABLE public.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 12\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\\n  Linha: 21\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 27\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"01_base_conhecimento_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 28\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.\\\"02_embeddings_regras_geral\\\" ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 29\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 130\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 32\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 40\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 46\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 52\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 59\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 74\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 85\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 96\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 108\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 112\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 133\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\\n  Linha: 137\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\\n  Linha: 53\\n  Tipo: schema_incorreto\\n  Trecho: DROP TABLE\\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 28\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_documentos ON rag.\\\"01_base_conhecimento_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\\n  Linha: 38\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto:     CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\\n  Linha: 31\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 2\\n  Tipo: schema_incorreto\\n  Trecho: CREATE TABLE\\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\\\"02_embeddings_regras_geral\\\" (\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 35\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 39\\n  Tipo: schema_incorreto\\n  Trecho: ALTER TABLE\\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 69\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY select_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 83\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY insert_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 93\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY update_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\\n  Linha: 103\\n  Tipo: policy_incorreta\\n  Trecho: CREATE POLICY\\n  Contexto: CREATE POLICY delete_embeddings ON rag.\\\"02_embeddings_regras_geral\\\"\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\\n  Linha: 67\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:             docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 34\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         tables = supabase.table(\\\"documents\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\\n  Linha: 43\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").ilike(\\\"content\\\", f\\\"%{query}%\\\").limit(k).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: schema_publico\\n  Trecho: table(\\\"documents\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\\n  Linha: 22\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         docs = supabase.table(\\\"documents\\\").select(\\\"*\\\").execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 23\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 27\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").select(\\\"*\\\").limit(1).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 45\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"01_base_conhecimento_regras_geral\\\").insert(doc_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\\n  Linha: 55\\n  Tipo: supabase_table\\n  Trecho: supabase.table(\\\"\\n  Contexto:         response = supabase.table(\\\"02_embeddings_regras_geral\\\").insert(embedding_data).execute()\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 20\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\\\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\\n  Linha: 30\\n  Tipo: supabase_table\\n  Trecho: supabase.table('\\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\\n  Linha: 1\\n  Tipo: json_invalido\\n  Trecho: Expecting value\\n  Contexto: JSON inválido\"\n- Arquivo: embates/embate_conformidade.json\n  Linha: 20\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:       \"conteudo\": \"Recomendações específicas para os problemas encontrados:\\n\\n- Em scripts SQL, sempre especifique 'rag.' antes do nome da tabela\\n- Use 'CREATE TABLE rag.nome_tabela'\\n- Use 'ALTER TABLE rag.nome_tabela'\\n- Use 'DROP TABLE rag.nome_tabela'\\n\\n- Sempre use o schema 'rag.' ao invés de 'public'\\n- Substitua referências diretas a 'documents' ou 'embeddings' por 'rag.01_base_conhecimento_regras_geral' e 'rag.02_embeddings_regras_geral'\\n- Atualize queries para incluir o prefixo 'rag.'\\n\\n- Ao usar client.table(), sempre inclua o prefixo 'rag.'\\n- Exemplo: client.table('rag.01_base_conhecimento_regras_geral')\\n- Verifique se todas as chamadas de API incluem o schema correto\\n\\n- Valide o JSON usando uma ferramenta online\\n- Verifique a sintaxe (vírgulas, chaves, aspas)\\n- Use um formatador de JSON\\n\\n- Políticas RLS devem ser criadas no schema 'rag'\\n- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\\n- Verifique se todas as políticas existentes foram migradas\"\n- Arquivo: 01_regras_md_apenas_raiz/2_database/a_regras_sql.md\n  Linha: 209\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto:    CREATE TABLE error_log (\n- Arquivo: 03_sql_apenas_raiz/1_setup/b_02_embeddings_regras_geral.sql\n  Linha: 2\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto: DROP TABLE IF EXISTS rag.\"02_embeddings_regras_geral\" CASCADE;\n- Arquivo: 03_sql_apenas_raiz/1_setup/a_01_base_conhecimento_regras_geral.sql\n  Linha: 6\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto: DROP TABLE IF EXISTS rag.\"01_base_conhecimento_regras_geral\" CASCADE;\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\n  Linha: 12\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto: CREATE TABLE IF NOT EXISTS base_conhecimento (\n- Arquivo: 03_sql_apenas_raiz/1_setup/f_setup_rag_functions.sql\n  Linha: 21\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto: CREATE TABLE IF NOT EXISTS embeddings (\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 27\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:         ALTER TABLE IF EXISTS rag.\"01_base_conhecimento_regras_geral\" ENABLE ROW LEVEL SECURITY;\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 28\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:         ALTER TABLE IF EXISTS rag.\"02_embeddings_regras_geral\" ENABLE ROW LEVEL SECURITY;\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 29\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:         ALTER TABLE IF EXISTS rag.statistics ENABLE ROW LEVEL SECURITY;\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 98\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:         ALTER TABLE IF EXISTS rules.rule_counts ENABLE ROW LEVEL SECURITY;\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 32\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY select_documentos ON rag.\"01_base_conhecimento_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 37\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY insert_documentos ON rag.\"01_base_conhecimento_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 42\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY update_documentos ON rag.\"01_base_conhecimento_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 48\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY delete_documentos ON rag.\"01_base_conhecimento_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 54\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY select_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 59\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY insert_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 64\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY update_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 70\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY delete_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 76\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY select_statistics ON rag.statistics\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 80\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY insert_statistics ON rag.statistics\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 101\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY select_rule_counts ON rules.rule_counts\n- Arquivo: 03_sql_apenas_raiz/2_security/b_policies.sql\n  Linha: 105\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:         CREATE POLICY insert_rule_counts ON rules.rule_counts\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\n  Linha: 35\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\n- Arquivo: 03_sql_apenas_raiz/3_migrations/a_initial_schema.sql\n  Linha: 53\n  Tipo: schema_incorreto\n  Trecho: DROP TABLE\n  Contexto:     DROP TABLE IF EXISTS rag.knowledge_base CASCADE;\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\n  Linha: 28\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:     CREATE POLICY select_documentos ON rag.\"01_base_conhecimento_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/3_migrations/c_update_schema_rag.sql\n  Linha: 38\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto:     CREATE POLICY select_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/3_migrations/d_move_schema.sql\n  Linha: 31\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:     EXECUTE format('ALTER TABLE %I.%I SET SCHEMA %I',\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\n  Linha: 2\n  Tipo: schema_incorreto\n  Trecho: CREATE TABLE\n  Contexto: CREATE TABLE IF NOT EXISTS rag.\"02_embeddings_regras_geral\" (\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\n  Linha: 35\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\n  Linha: 39\n  Tipo: schema_incorreto\n  Trecho: ALTER TABLE\n  Contexto:         ALTER TABLE public.base_conhecimento_regras_geral \n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\n  Linha: 69\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto: CREATE POLICY select_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\n  Linha: 83\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto: CREATE POLICY insert_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\n  Linha: 93\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto: CREATE POLICY update_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 03_sql_apenas_raiz/3_migrations/b_add_embeddings.sql\n  Linha: 103\n  Tipo: policy_incorreta\n  Trecho: CREATE POLICY\n  Contexto: CREATE POLICY delete_embeddings ON rag.\"02_embeddings_regras_geral\"\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\n  Linha: 67\n  Tipo: schema_publico\n  Trecho: table(\"documents\n  Contexto:             docs = supabase.table(\"documents\").select(\"*\").ilike(\"content\", f\"%{query}%\").limit(k).execute()\n- Arquivo: 04_scripts_apenas_raiz/6_search/b_testar_busca_embeddings.py\n  Linha: 67\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:             docs = supabase.table(\"documents\").select(\"*\").ilike(\"content\", f\"%{query}%\").limit(k).execute()\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\n  Linha: 34\n  Tipo: schema_publico\n  Trecho: table(\"documents\n  Contexto:         tables = supabase.table(\"documents\").select(\"*\").limit(1).execute()\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\n  Linha: 43\n  Tipo: schema_publico\n  Trecho: table(\"documents\n  Contexto:         docs = supabase.table(\"documents\").select(\"*\").ilike(\"content\", f\"%{query}%\").limit(k).execute()\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\n  Linha: 34\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:         tables = supabase.table(\"documents\").select(\"*\").limit(1).execute()\n- Arquivo: 04_scripts_apenas_raiz/6_search/e_testar_busca_supabase.py\n  Linha: 43\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:         docs = supabase.table(\"documents\").select(\"*\").ilike(\"content\", f\"%{query}%\").limit(k).execute()\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\n  Linha: 22\n  Tipo: schema_publico\n  Trecho: table(\"documents\n  Contexto:         docs = supabase.table(\"documents\").select(\"*\").execute()\n- Arquivo: 04_scripts_apenas_raiz/2_database/g_listar_documentos.py\n  Linha: 22\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:         docs = supabase.table(\"documents\").select(\"*\").execute()\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\n  Linha: 23\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:         response = supabase.table(\"01_base_conhecimento_regras_geral\").select(\"*\").limit(1).execute()\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\n  Linha: 27\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:         response = supabase.table(\"02_embeddings_regras_geral\").select(\"*\").limit(1).execute()\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\n  Linha: 45\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:         response = supabase.table(\"01_base_conhecimento_regras_geral\").insert(doc_data).execute()\n- Arquivo: 04_scripts_apenas_raiz/2_database/b_testar_base_conhecimento.py\n  Linha: 55\n  Tipo: supabase_table\n  Trecho: supabase.table(\"\n  Contexto:         response = supabase.table(\"02_embeddings_regras_geral\").insert(embedding_data).execute()\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\n  Linha: 20\n  Tipo: supabase_table\n  Trecho: supabase.table('\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral') \\\n- Arquivo: 04_scripts_apenas_raiz/2_database/d_testar_document_hash.py\n  Linha: 30\n  Tipo: supabase_table\n  Trecho: supabase.table('\n  Contexto:         response = supabase.table('base_conhecimento_regras_geral').insert({\n- Arquivo: 04_scripts_apenas_raiz/1_core/f_ruff_report.json\n  Linha: 1\n  Tipo: json_invalido\n  Trecho: Expecting value\n  Contexto: JSON inválido"
    },
    {
      "autor": "verificador",
      "tipo": "recomendacoes",
      "conteudo": "Recomendações específicas para os problemas encontrados:\n\n- Valide o JSON usando uma ferramenta online\n- Verifique a sintaxe (vírgulas, chaves, aspas)\n- Use um formatador de JSON\n\n- Ao usar client.table(), sempre inclua o prefixo 'rag.'\n- Exemplo: client.table('rag.01_base_conhecimento_regras_geral')\n- Verifique se todas as chamadas de API incluem o schema correto\n\n- Políticas RLS devem ser criadas no schema 'rag'\n- Use 'CREATE POLICY nome_policy ON rag.nome_tabela'\n- Verifique se todas as políticas existentes foram migradas\n\n- Sempre use o schema 'rag.' ao invés de 'public'\n- Substitua referências diretas a 'documents' ou 'embeddings' por 'rag.01_base_conhecimento_regras_geral' e 'rag.02_embeddings_regras_geral'\n- Atualize queries para incluir o prefixo 'rag.'\n\n- Em scripts SQL, sempre especifique 'rag.' antes do nome da tabela\n- Use 'CREATE TABLE rag.nome_tabela'\n- Use 'ALTER TABLE rag.nome_tabela'\n- Use 'DROP TABLE rag.nome_tabela'"
    }
  ],
  "decisao": "Necessário corrigir as inconsistências encontradas",
  "razao": "Foram encontrados problemas que podem afetar a consistência do projeto",
  "data_inicio": "2025-01-02T09:37:01.139113",
  "tags": [
    "conformidade",
    "verificacao",
    "qualidade",
    "schema_rag"
  ],
  "recomendacoes_gerais": [
    "1. Sempre use o schema 'rag' para todas as operações no Supabase",
    "2. Mantenha um padrão consistente de nomenclatura de tabelas",
    "3. Documente alterações de schema em migrations",
    "4. Use ferramentas de lint e formatação de código",
    "5. Execute esta verificação de conformidade regularmente",
    "6. Revise as políticas RLS ao fazer alterações no schema",
    "7. Mantenha backups antes de alterações significativas",
    "8. Teste queries e operações em ambiente de desenvolvimento"
  ]
}